OPENQASM 2.0;
include "qelib1.inc";
qreg reg_Alice[1];
qreg transfer[3];
qreg reg_Bob[2];
creg classical_bits[2];
u2(0,pi) reg_Bob[0];
cx reg_Bob[0],reg_Bob[1];
barrier reg_Alice[0],transfer[0],transfer[1],transfer[2],reg_Bob[0],reg_Bob[1];
cx reg_Bob[0],transfer[2];
cx transfer[2],reg_Bob[0];
cx reg_Bob[0],transfer[2];
cx transfer[2],transfer[1];
cx transfer[1],transfer[2];
cx transfer[2],transfer[1];
cx transfer[1],transfer[0];
cx transfer[0],transfer[1];
cx transfer[1],transfer[0];
cx transfer[0],reg_Alice[0];
cx reg_Alice[0],transfer[0];
cx transfer[0],reg_Alice[0];
u3(pi,0,pi) reg_Alice[0];
u1(pi) reg_Alice[0];
cx reg_Alice[0],transfer[0];
cx transfer[0],reg_Alice[0];
cx reg_Alice[0],transfer[0];
cx transfer[0],transfer[1];
cx transfer[1],transfer[0];
cx transfer[0],transfer[1];
cx transfer[1],transfer[2];
cx transfer[2],transfer[1];
cx transfer[1],transfer[2];
cx transfer[2],reg_Bob[0];
cx reg_Bob[0],transfer[2];
cx transfer[2],reg_Bob[0];
barrier reg_Alice[0],transfer[0],transfer[1],transfer[2],reg_Bob[0],reg_Bob[1];
cx reg_Bob[0],reg_Bob[1];
u2(0,pi) reg_Bob[0];
barrier reg_Alice[0],transfer[0],transfer[1],transfer[2],reg_Bob[0],reg_Bob[1];
measure reg_Bob[0] -> classical_bits[0];
measure reg_Bob[1] -> classical_bits[1];
